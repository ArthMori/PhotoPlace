<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhotoPlace - Visualização e Postagem</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="app-container">
        <header>
            <h1><i class="fas fa-camera"></i> PhotoPlace</h1>
            <p>Compartilhe e visualize fotos com localização</p>
        </header>
        
        <div class="tab-container">
            <div class="tab active" data-tab="visualizar">
                <i class="fas fa-map-marked-alt"></i> Visualizar Mapa
            </div>
            <div class="tab" data-tab="postar">
                <i class="fas fa-plus-circle"></i> Postar Foto
            </div>
        </div>
        
        <div id="visualizar-content" class="content active">
            <div class="controls">
                <button id="btnAtualizar"><i class="fas fa-sync-alt"></i> Atualizar Mapa</button>
                <button id="btnCentralizar"><i class="fas fa-crosshairs"></i> Centralizar Mapa</button>
            </div>
            <div id="map"></div>
        </div>
        
        <div id="postar-content" class="content">
            <div class="status info" id="statusInfo">
                <i class="fas fa-info-circle"></i> Aguardando ação...
            </div>
            
            <div class="status success" id="statusSuccess">
                <i class="fas fa-check-circle"></i> Foto postada com sucesso!
            </div>
            
            <div class="status error" id="statusError">
                <i class="fas fa-exclamation-circle"></i> Erro ao processar. Tente novamente.
            </div>
            
            <div class="form-group">
                <label for="foto"><i class="fas fa-camera"></i> Selecionar foto:</label>
                <input type="file" id="foto" accept="image/*" capture="camera">
            </div>
            
            <div class="form-group">
                <label for="camera"><i class="fas fa-video"></i> Tirar foto com a câmera:</label>
                <div class="camera-container">
                    <video id="camera" autoplay playsinline></video>
                    <button id="captureButton" class="camera-button"><i class="fas fa-camera"></i> Capturar</button>
                    <button id="switchCameraButton" class="camera-button secondary" title="Alternar câmera">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                <canvas id="canvas" style="display: none;"></canvas>
            </div>
            
            <img id="preview" alt="Preview da imagem">
            
            <div class="location-info" id="locationInfo">
                <i class="fas fa-map-marker-alt"></i> Localização: Aguardando permissão...
            </div>
            
            <button class="button" id="btnObterLocalizacao"><i class="fas fa-location-arrow"></i> Obter Localização Atual</button>
            <button class="button secondary" id="btnPostar" disabled><i class="fas fa-cloud-upload-alt"></i> Postar Foto</button>
        </div>
        
        <div class="loading" id="loading">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Carregando fotos...</p>
        </div>
        
        <div class="error-message" id="errorMessage">
            <p id="errorText">Erro ao carregar as fotos. Tente novamente mais tarde.</p>
            <button id="retryButton"><i class="fas fa-redo"></i> Tentar Novamente</button>
        </div>
    </div>
    
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    
    <script src="../js/script.js"></script>
</body>
</html>